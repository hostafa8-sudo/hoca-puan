<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SÄ±nÄ±f Ã–dev Panosu</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #f0f2f5; padding: 15px; display: flex; justify-content: center; }
        .card { background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); width: 100%; max-width: 400px; }
        h2 { text-align: center; color: #10b981; margin-bottom: 20px; }
        .input-group { display: flex; flex-direction: column; gap: 8px; }
        input { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; font-size: 14px; }
        button#addBtn { width: 100%; padding: 12px; background: #10b981; color: white; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; margin-top: 10px; transition: 0.3s; }
        button#addBtn:hover { background: #059669; }
        ul { list-style: none; padding: 0; margin-top: 25px; }
        li { background: #fff; border: 1px solid #e5e7eb; margin-bottom: 12px; padding: 15px; border-radius: 10px; position: relative; border-left: 6px solid #10b981; }
        .subject-tag { font-weight: bold; color: #059669; font-size: 0.9em; text-transform: uppercase; }
        .task-content { display: block; margin: 8px 0; font-size: 1.1em; color: #1f2937; }
        .date-tag { font-size: 0.85em; color: #ef4444; font-weight: 500; }
        .del-btn { position: absolute; right: 10px; top: 10px; color: #9ca3af; cursor: pointer; border: none; background: none; font-size: 18px; }
    </style>
</head>
<body>

<div class="card">
    <h2>ðŸ“š Ã–dev Panosu</h2>
    <div class="input-group">
        <input type="text" id="subjectInput" placeholder="Dersin AdÄ± (Ã–rn: Matematik)">
        <input type="text" id="taskInput" placeholder="Ã–dev DetayÄ± (Ã–rn: Sayfa 50)">
        <input type="date" id="dateInput">
        <button id="addBtn" onclick="addTask()">Ã–devi Herkese GÃ¶nder</button>
    </div>
    <ul id="taskList"></ul>
</div>

<script>
    // Senin Supabase Bilgilerin
    const SUB_URL = "https://xuvrtgvzosobhwpyglsz.supabase.co";
    const SUB_KEY = "sb_publishable_uyuYnuRcWL4dxgsBp_lA7w_9KBjIt1s";
    const supabaseClient = supabase.createClient(SUB_URL, SUB_KEY);

    // Ã–devleri Listele
    async function loadTasks() {
        let { data: odevler, error } = await supabaseClient
            .from('odevler')
            .select('*')
            .order('created_at', { ascending: false });

        if (error) return console.error("Hata:", error);
        
        const list = document.getElementById('taskList');
        list.innerHTML = '';
        odevler.forEach(item => {
            list.innerHTML += `<li>
                <span class="subject-tag">${item.subject || 'Genel'}</span>
                <span class="task-content">${item.odev}</span>
                <span class="date-tag">ðŸ“… Son Tarih: ${item.deadline || 'Belirtilmedi'}</span>
                <button class="del-btn" onclick="deleteTask(${item.id})">Ã—</button>
            </li>`;
        });
    }

    // Yeni Ã–dev Ekle
    async function addTask() {
        const sub = document.getElementById('subjectInput');
        const task = document.getElementById('taskInput');
        const date = document.getElementById('dateInput');
        
        if(!task.value) return alert("Ã–dev iÃ§eriÄŸini boÅŸ bÄ±rakamazsÄ±n!");

        // SÃ¼tun isimlerini senin tablona (odev, subject, deadline) gÃ¶re eÅŸitledik
        const { error } = await supabaseClient
            .from('odevler')
            .insert([
                { 
                    subject: sub.value, 
                    odev: task.value, 
                    deadline: date.value 
                }
            ]);

        if(error) {
            alert("Hata oluÅŸtu: " + error.message);
        } else {
            sub.value = ''; task

